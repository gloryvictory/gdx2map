# gdx2map
Map (Maplibre GL) for gdx2 project

## Описание проекта

`gdx2map` — это веб-приложение, использующее библиотеку Maplibre GL для отображения карт в проекте `gdx2`. Приложение предоставляет интерактивные карты с различными стилями и функциями, такими как выбор базовых карт, отображение дополнительных слоев данных и управление интерфейсом пользователя.

## Функциональность

- Отображение интерактивных карт с использованием Maplibre GL.
- Поддержка различных стилей карт.
- Возможность выбора базовых карт.
- Отображение дополнительных слоев данных.
- Управление интерфейсом пользователя через панель с правой стороны.

## Технологии

- **Frontend**: TypeScript, React, Vite, Tailwind CSS.
- **Картография**: Maplibre GL.
- **Дополнительные библиотеки**: React Router, Axios.

## Установка и запуск

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/your-repo/gdx2map.git
   cd gdx2map
   ```

2. Установите зависимости:
   ```bash
   npm install
   ```

3. Запустите приложение:
   ```bash
   npm run dev
   ```

## Вклад и правила участия

Мы приветствуем вклад от сообщества! Чтобы внести свой вклад в проект, следуйте этим шагам:

1. Создайте форк репозитория.
2. Создайте ветку для своих изменений:
   ```bash
   git checkout -b feature/your-feature
   ```

3. Сделайте изменения и закоммитьте их:
   ```bash
   git commit -m "Добавлена новая функциональность"
   ```

4. Запушьте изменения в ваш форк:
   ```bash
   git push origin feature/your-feature
   ```

5. Создайте pull request в основной репозиторий.

## Недавние изменения

### Версия с улучшенной функциональностью атрибутов

#### Изменения в логике зума при выборе объектов:
- Изменена логика зума при выборе строки в таблице атрибутов: теперь сначала происходит зум на значение -3 уровня, а затем зумирование на объект
- Улучшена логика зума для всех типов геометрии (точки, линии, полигоны) - теперь рассчитывается bounding box и применяется fitBounds

#### Индикатор загрузки карты:
- Добавлен спиннер в нижнюю панель (BottomPanel), который отображается во время перерисовки карты
- Индикатор показывает состояние загрузки при обновлении слоев и фильтров

#### Контекстное меню таблицы атрибутов:
- Добавлен пункт "Показать только этот" в контекстное меню таблицы атрибутов
- При выборе этого пункта на карте отфильтровывается соответствующий слой и остается только выбранный объект с зумом на него
- Добавлен пункт "Показать все" для отмены фильтрации

#### Экспорт данных в Excel:
- Добавлена кнопка "Экспорт в Excel" рядом с кнопкой "Показать на карте" для каждой вкладки (Точки, Линии, Полигоны)
- Экспорт происходит в формате .xlsx с русскими названиями столбцов
- Используется библиотека xlsx для генерации Excel файлов

#### Улучшения интерфейса:
- Изменен цвет выделения выбранных объектов на карте с желтого на красный
- Улучшена логика очистки предыдущего выделения при выборе новой строки в таблице атрибутов
- Оптимизирована фильтрация карты с использованием setFilter вместо изменения видимости слоев

## Лицензия

Проект лицензирован под лицензией MIT. Подробности см. в файле [LICENSE](LICENSE).
